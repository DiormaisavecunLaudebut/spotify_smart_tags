var tagName = "<%= @tag %>"
var userTrackId = "<%= @id %>"
var points = "<%= @points %>"
var challenge = "<%= @challenge_completed %>"
var status = "<%= @status %>"
var statusChanged = "<%= @status_changed %>"
var notification = "<%= @notification %>"

var challengeCompleted = "<%= @challenge_completed %>"
var tagsContainer = document.querySelector('.tags-container');
var tag = document.getElementById(`tag-${tagName}`)
var input = document.getElementById('input-autocomplete')
var dropdownMenu = document.querySelector('.my-dropdown-menu-autocomplete')

function insertTag() {
  input.dataset.usedTags += `$$${tagName}`

  if (dropdownMenu.children.length > 0) { closeDropdownMenu() }

  tagsContainer.insertAdjacentHTML('beforeend', `<div class="mtag-small tag-primary mr-1 mb-1">${tagName}</div>`)

  tag.remove();
}

displayAchievementNotification(status, statusChanged, challenge, points)

insertTag()
